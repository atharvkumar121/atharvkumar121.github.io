<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Login</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" type="image/png" href="/images/logo fav.png">
</head>

<body>
  <div class="center">
    <h1>Login</h1>
    <form method="post">
      <div class="txt_field">
        <span class="icon">
          <ion-icon name="person"></ion-icon>
        </span>
        <input type="text" required , id="login_email" , name="login_email">
        <label>Email</label>

      </div>
      <div class="txt_field">
        <span class="icon2">
          <ion-icon name="lock-closed"></ion-icon>
          
        </span>
        <input type="password" required , id="login_password", name="login_password">
        <label>Password</label>
      </div>
      <div class="pass" , style="text-decoration: none;">Forgot Password Then Register Again!</div>
      <input type="button" value="Login" , id="login" , name="login">
      <div class="signup_link">
        Not a member?/Register <a href="/html/auth.html">Signup</a>
      </div>
      <div class="homepage"  , style="text-align: center; font-size: 16px; color: #292525 ;margin-bottom: 25px;" >
        GO TO HOMEPAGE  <a href="/index.html" , style="text-decoration: none; color: #2691d9;">CLICK HERE</a>
      </div>
      
    </form>
  </div>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>


<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyA_zCs_ou2iep12BYNlnhKh-07Ogt1bjvY",
        authDomain: "atharvweb-auth.firebaseapp.com",
        projectId: "atharvweb-auth",
        storageBucket: "atharvweb-auth.appspot.com",
        messagingSenderId: "741213456098",
        appId: "1:741213456098:web:d1670890bc17f689bec0bb",
        measurementId: "G-6TP2SMBR9E"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth();
    //console.log(app);




//----- Login code start	  
	  document.getElementById("login").addEventListener("click", function() {
		  var email =  document.getElementById("login_email").value;
		  var password = document.getElementById("login_password").value;

		  signInWithEmailAndPassword(auth, email, password)
		  .then((userCredential) => {
		    // Signed in 
		    const user = userCredential.user;
		    console.log(user);
		    alert(user.email+" Login successfully!!!");
		    window.location = 'after_login.html';
		    // ...
		  })
		  .catch((error) => {
		    const errorCode = error.code;
		    const errorMessage = error.message;
		    console.log(errorMessage);
		    alert(errorMessage);
		  });		  		  
	  });
	  //----- End

 </script>

</html>